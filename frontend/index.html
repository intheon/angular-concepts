<!doctype html>

<html ng-app="testAngular">
<head>
	<meta charset="utf-8">
	<title>Blank App</title>
	<meta name="description" content="A boilerplate blank app">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="css/style.css"/>

</head>
<body>

	<div class="app-wrapper" ng-controller="ListCtrl">

		<!-- the main list/map of items -->
		<div class="left-column" ng-controller="MapCtrl">

			<!-- A directive to handle the map -->
			<ng-map class="map"  zoom="3" center="59.339025, 18.065818">

				<info-window id="detailsWindow" >
					<div ng-non-bindable>
						<header class="skatepark-name">{{ currentSkatepark.skateparkName }}</header>
						<summary class="skatepark-desc">{{ currentSkatepark.skateparkDesc }}</summary>
						<upvote-button ng-controller="RatingCtrl" ng-click="incrementRating(currentSkatepark)">{{ currentSkatepark.skateparkRating }}</upvote-button>
					</div> 
				</info-window>

				<marker ng-repeat="marker in allData | filter: parks" 
						position="{{marker.skateparkLocation}}"
						title="{{marker.skateparkName}}"
						id="{{marker._id}}"
						on-click="showSkateparkDetails(event, marker)">
				</marker>

			</ng-map>

		</div> <!-- end left hand side -->

		<div class="right-column">

			<!-- highest ranked items -->
			<div class="highest-voted-items">
				<h3>Highest Voted</h3>

				<div class="list-of-highest-rated-items">
					<div ng-repeat="item in allData | orderBy: '-skateparkRating' | limitTo: 6  ">

						<div class="item-name" ng-controller="RatingCtrl">
							<div class="rating">{{ item.skateparkRating }}</div>
							<div class="name">{{ item.skateparkName }}</div>
							<upvote-button ng-click="incrementRating(item)"></upvote-button>
						</div>

					</div>
				</div>
			</div>

			<!-- most recently added items -->
			<div class="most-recent-items">
				<h3>Most Recent Items</h3>
				<div class="list-of-most-recent-items">
					<div ng-repeat="item in allData | limitTo: 5" >

						<div class="item-name">{{ item.skateparkName }}</div>

					</div>
				</div>
			</div>

			<!-- search functionality -->
			<div class="search-for-items" ng-controller="SearchCtrl" >
				<form>
					<input type="text" placeholder="Search" ng-model="searchString" class="fancyInput"></input>
				</form>
			</div>

			<div class="connection-info-triangle"></div>

			<div class="bottom-right">
				<div class="number-connected-users"></div>
				<div class="icon icon-users"></div>
			</div>

		</div> <!-- end right hand side -->

	</div>


<!-- JAVASCRIPT -->

<!-- 3rd party libraries -->
	<script src="../libraries/jquery.js"></script>
	<script src="../libraries/angular.js"></script>
	<script src="../libraries/angular-route.js"></script>
	<script src="../libraries/socket.io.js"></script>

<!-- API -->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyALYjGkfn-RVIETHo-KCBz_1zbVW1OH-O0"></script>

<!-- Custom JS  -->
	<script src="../libraries/ng-map.js"></script>

	<script src="js/sockets.js"></script>
	<script src="js/controllers.js"></script>
	<script src="js/directives.js"></script>
	<script src="js/factories.js"></script>
	<script src="js/filters.js"></script>



</body>
</html>
